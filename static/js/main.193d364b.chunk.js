(this.webpackJsonpfind_waldo=this.webpackJsonpfind_waldo||[]).push([[0],{136:function(e,t,n){},438:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(4),o=n.n(a),r=n(20),i=n.n(r),s=(n(136),n(48)),l=n(23),d=function(e){return Object(c.jsx)(a.Fragment,{children:Object(c.jsx)("div",{className:"popup",children:Object(c.jsxs)("div",{className:"popup_inner",children:[Object(c.jsxs)("ul",{children:["FInd",Object(c.jsx)("li",{children:"Lion"}),Object(c.jsx)("li",{children:"Astronaut"}),Object(c.jsx)("li",{children:"Hippo"})]}),Object(c.jsx)("button",{onClick:e.toggle,children:"close me"})]})})})},u=function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),o=n[0],r=n[1];Object(a.useEffect)((function(){e.gameover?r(0):setInterval((function(){r((function(e){return e+1}))}),1e3)}),[e.gameover]);return Object(c.jsx)("h4",{children:Object(c.jsx)("strong",{children:function(e){var t="0".concat(Math.round(e%60)).slice(-2),n="".concat(Math.floor(e/60)),c="0".concat(n%60).slice(-2),a="0".concat(Math.floor(e/3600)).slice(-2);return"".concat(a,":").concat(c,":").concat(t)}(o)})})},j=function(e){return Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)("a",{className:"navbar-brand mr-auto",href:"#",children:"Find Waldo"}),Object(c.jsx)("ul",{className:"navbar-nav mr-auto center",children:Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(u,{gameover:e.gameover})})}),Object(c.jsx)("button",{onClick:e.toggle,className:"nav-item right btn btn-light",href:"#",children:Object(c.jsx)("strong",{children:"Show Instructions"})})]})},b=n.p+"static/media/waldo.b67b3021.jpg",f=function(e){return Object(c.jsx)("img",{alt:"https://www.innovative-medical.com/hs-fs/hubfs/waldo%202.jpg?width=1024&name=waldo%202.jpg",id:"waldo",src:b,className:"image"})},g=(n(137),n(131)),h=n.n(g),m=function(e){var t=Object(a.useState)({x:0,y:0}),n=Object(l.a)(t,2);n[0],n[1];return Object(c.jsx)("div",{className:"positioned",style:{left:e.coordinates.x,top:e.coordinates.y},children:Object(c.jsx)("ul",{className:"submenuUl",children:0===e.answers.length?Object(c.jsx)("li",{children:"Loading"}):e.answers.map((function(t){return Object(c.jsx)("li",{onClick:e.reportSelection,className:"submenuItem",children:t.name},h()())}))})})},O=function(e){var t=e.radii,n=e.coordinates.x-t,a=e.coordinates.y-t;return Object(c.jsx)("div",{className:"radius fade_out",style:{left:n,top:a,height:2*t+"px",width:2*t+"px"}})},x=function(e){var t=e.radii,n=e.xRatio,a=e.yRatio,o=n*document.getElementById("waldo").width-t,r=a*document.getElementById("waldo").height+t;return Object(c.jsx)("div",{className:"marker",style:{left:o,top:r,height:2*t+"px",width:2*t+"px"}})},p=n(58),v=(n(432),n(439),p.a.apps.length?p.a.app():p.a.initializeApp({apiKey:"AIzaSyBWKAk-DjtWa5vH7WP-0UrBIH_nlt7pAyo",authDomain:"find-waldo-1e980.firebaseapp.com",projectId:"find-waldo-1e980",storageBucket:"find-waldo-1e980.appspot.com",messagingSenderId:"1075057876001",appId:"1:1075057876001:web:9eff6db6d6a3cd168d9760"}));var w=function(){var e=v.firestore(),t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],r=n[1];Object(a.useEffect)((function(){if(0===o.length){var t=e.collection("answers"),n=[];t.get().then((function(e){return e.forEach((function(e){return n.push({name:e.id,x:e.get("x"),y:e.get("y"),found:!1})}))})),r(n)}}),[o.length,e]);var i=Object(a.useState)(!0),u=Object(l.a)(i,2),b=u[0],g=u[1],h=Object(a.useState)(!1),p=Object(l.a)(h,2),w=p[0],y=p[1],I=Object(a.useState)(!1),S=Object(l.a)(I,2),N=S[0],E=S[1],B=Object(a.useState)(!1),k=Object(l.a)(B,2),L=k[0],M=k[1],C=30/window.devicePixelRatio,H=Object(a.useRef)({x:0,y:0}),R=function(){g(!b)},A=function(){y(!w)},_=function(e){var t=o.map((function(t){return t.name.toLowerCase()===e.toLowerCase()?Object(s.a)(Object(s.a)({},t),{},{found:!0}):t}));r(t),F(t)},F=function(e){console.log(e),e.every((function(e){return!0===e.found}))&&(M(!0),alert("You won !"),W())},W=function(){r(o.map((function(e){return!0===e.found?Object(s.a)(Object(s.a)({},e),{},{found:!1}):e}))),M(!1)};return Object(c.jsxs)(a.Fragment,{children:[N?Object(c.jsx)(O,{radii:C,coordinates:H.current}):"",Object(c.jsx)(j,{gameover:L,toggle:R}),!b&&Object(c.jsx)(d,{toggle:R}),Object(c.jsxs)("div",{onClick:function(e){H.current.x=e.pageX,H.current.y=e.pageY,H.current.xOffset=e.nativeEvent.offsetX,H.current.yOffset=e.nativeEvent.offsetY,A(),E(!N)},children:[Object(c.jsx)(f,{toggleSubmenu:A}),w?Object(c.jsx)(m,{reportSelection:function(e){var t=C/document.getElementById("waldo").width,n=C/document.getElementById("waldo").height,c=H.current.xOffset/document.getElementById("waldo").width,a=H.current.yOffset/document.getElementById("waldo").height,r=c-t,i=c+t,s=a-n,l=a+n,d=o.find((function(t){return t.name===e.target.innerHTML}));console.log("".concat(e.target.innerHTML," ")+d.x),r<=d.x&&d.x<=i&&s<=d.y&&d.y<=l?(console.log("correct"),_(e.target.innerHTML),console.log(r+" "+d.x+" "+i),console.log(s+" "+d.y+" "+l)):console.log("incorrect")},answers:o.map((function(e){return!1===e.found?e:""})),coordinates:H.current}):""]}),o?o.map((function(e){return!0===e.found?Object(c.jsx)(x,{radii:C,xRatio:e.x,yRatio:e.y}):""})):""]})};n(434),n(435);i.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root"))}},[[438,1,2]]]);
//# sourceMappingURL=main.193d364b.chunk.js.map